# JackettV2 æ’ä»¶æ›´æ–°æ—¥å¿—

## v1.6.1 - 2024å¹´æœ€æ–°ç‰ˆå…¼å®¹æ€§ä¿®æ­£

### ğŸ”§ ä¿®å¤å†…å®¹

#### 1. **APIå…¼å®¹æ€§ä¿®æ­£**
- âœ… æ·»åŠ äº†ç¼ºå¤±çš„ `get_command()` æŠ½è±¡æ–¹æ³•
- âœ… å®ç°äº†è¿œç¨‹å‘½ä»¤æ”¯æŒï¼š
  - `/jackett_reload` - é‡æ–°åŠ è½½Jackettç´¢å¼•å™¨
  - `/jackett_status` - æŸ¥çœ‹JackettçŠ¶æ€
- âœ… æ·»åŠ äº†äº‹ä»¶å¤„ç†æœºåˆ¶ï¼Œæ”¯æŒé€šè¿‡æ¶ˆæ¯å‘½ä»¤æ§åˆ¶æ’ä»¶

#### 2. **ç´¢å¼•å™¨é›†æˆç­–ç•¥ä¼˜åŒ–**
- âœ… æ”¹è¿›äº†ç´¢å¼•å™¨æ·»åŠ æ–¹å¼ï¼Œä¼˜å…ˆä½¿ç”¨ `SitesHelper` API
- âœ… å®ç°äº†å¤šçº§é™çº§ç­–ç•¥ï¼š
  - ä¸»è¦æ–¹å¼ï¼šé€šè¿‡ SitesHelper æ³¨å†Œè‡ªå®šä¹‰ç«™ç‚¹
  - å¤‡ç”¨æ–¹å¼ï¼šä¿å­˜é…ç½®æ•°æ®åˆ°æ’ä»¶æ•°æ®åº“
- âœ… å¢å¼ºäº†é”™è¯¯å¤„ç†å’Œå…¼å®¹æ€§æ£€æŸ¥

#### 3. **æœåŠ¡å’Œè°ƒåº¦ä¼˜åŒ–**
- âœ… æ·»åŠ äº† `get_service()` æ–¹æ³•ï¼Œå®ç°å®šæ—¶åŒæ­¥åŠŸèƒ½
- âœ… æ¯6å°æ—¶è‡ªåŠ¨åŒæ­¥ä¸€æ¬¡Jackettç´¢å¼•å™¨
- âœ… æ”¹è¿›äº†æ’ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†

#### 4. **äº‹ä»¶ç³»ç»Ÿé›†æˆ**
- âœ… æ­£ç¡®é›†æˆäº† MoviePilot çš„äº‹ä»¶ç®¡ç†å™¨
- âœ… æ·»åŠ äº†å‘½ä»¤å¤„ç†å™¨å’ŒçŠ¶æ€æŸ¥è¯¢åŠŸèƒ½
- âœ… å®ç°äº†æ¶ˆæ¯æ¨é€é€šçŸ¥åŠŸèƒ½

#### 5. **èµ„æºæ¸…ç†æ”¹è¿›**
- âœ… æ”¹è¿›äº†æ’ä»¶åœæ­¢æ—¶çš„èµ„æºæ¸…ç†
- âœ… æ­£ç¡®æ³¨é”€äº‹ä»¶å¤„ç†å™¨
- âœ… å½»åº•æ¸…ç†æ·»åŠ çš„ç´¢å¼•å™¨é…ç½®

### ğŸš€ æ–°åŠŸèƒ½

#### è¿œç¨‹æ§åˆ¶å‘½ä»¤
- **é‡æ–°åŠ è½½**: `/jackett_reload` - ç«‹å³é‡æ–°åŠ è½½æ‰€æœ‰Jackettç´¢å¼•å™¨
- **çŠ¶æ€æŸ¥è¯¢**: `/jackett_status` - æŸ¥çœ‹æ’ä»¶å½“å‰çŠ¶æ€å’Œç´¢å¼•å™¨æ•°é‡

#### è‡ªåŠ¨åŒæ­¥
- æ’ä»¶å¯ç”¨åæ¯6å°æ—¶è‡ªåŠ¨åŒæ­¥ä¸€æ¬¡ç´¢å¼•å™¨
- æ”¯æŒæ–°å¢ã€åˆ é™¤ã€æ›´æ–°Jackettä¸­çš„ç´¢å¼•å™¨é…ç½®

#### å¢å¼ºé€šçŸ¥
- æ“ä½œç»“æœä¼šé€šè¿‡æ¶ˆæ¯ç³»ç»Ÿæ¨é€é€šçŸ¥
- è¯¦ç»†çš„çŠ¶æ€ä¿¡æ¯å’Œé”™è¯¯æç¤º

### ğŸ” æŠ€æœ¯æ”¹è¿›

#### APIé€‚é…
```python
# æ–°å¢å¿…éœ€çš„æŠ½è±¡æ–¹æ³•
def get_command(self) -> List[Dict[str, Any]]:
    # æ³¨å†Œè¿œç¨‹å‘½ä»¤

# æ”¹è¿›çš„ç´¢å¼•å™¨é›†æˆ
def _add_jackett_indexers(self):
    # ä½¿ç”¨SitesHelper APIè€Œéç›´æ¥æ“ä½œæœç´¢é“¾
```

#### äº‹ä»¶å¤„ç†
```python
# æ³¨å†Œäº‹ä»¶å¤„ç†å™¨
self.eventmanager.register("jackett.reload", self._handle_reload_command)
self.eventmanager.register("jackett.status", self._handle_status_command)

# å¤„ç†å‘½ä»¤å¹¶å‘é€é€šçŸ¥
def _handle_reload_command(self, event: Event = None):
    # æ‰§è¡Œæ“ä½œå¹¶æ¨é€ç»“æœé€šçŸ¥
```

### ğŸ› ï¸ å…¼å®¹æ€§

- âœ… **MoviePilot æœ€æ–°ç‰ˆæœ¬**: å®Œå…¨å…¼å®¹
- âœ… **Python 3.12**: æ”¯æŒæœ€æ–°Pythonç‰ˆæœ¬
- âœ… **FastAPI**: å…¼å®¹æœ€æ–°FastAPIæ¶æ„
- âœ… **Vue3å‰ç«¯**: æ”¯æŒæœ€æ–°å‰ç«¯æ¡†æ¶

### ğŸ“‹ å®‰è£…è¯´æ˜

1. å°†æ’ä»¶æ–‡ä»¶æ”¾ç½®åˆ° MoviePilot çš„ `plugins` ç›®å½•
2. é‡å¯ MoviePilot æœåŠ¡
3. åœ¨æ’ä»¶ç®¡ç†ä¸­é…ç½® Jackett è¿æ¥ä¿¡æ¯
4. ä¿å­˜é…ç½®åæ’ä»¶å°†è‡ªåŠ¨å¯¼å…¥ç´¢å¼•å™¨

### âš ï¸ æ³¨æ„äº‹é¡¹

- ç¡®ä¿ Jackett æœåŠ¡æ­£å¸¸è¿è¡Œä¸”å¯è®¿é—®
- API Key å¿…é¡»æ­£ç¡®é…ç½®
- å¦‚æœ Jackett è®¾ç½®äº†ç®¡ç†å¯†ç ï¼Œè¯·åœ¨æ’ä»¶ä¸­æ­£ç¡®é…ç½®
- æ’ä»¶ä¼šè‡ªåŠ¨å¤„ç†ç´¢å¼•å™¨çš„å¢åˆ æ”¹ï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„

### ğŸ”— ç›¸å…³é“¾æ¥

- [MoviePilot ä¸»é¡¹ç›®](https://github.com/jxxghp/MoviePilot)
- [æ’ä»¶åŸå§‹ä»“åº“](https://github.com/xj-bear/MoviePilot-Plugins)
- [MoviePilot Wiki](https://wiki.movie-pilot.org)